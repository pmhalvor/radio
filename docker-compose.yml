services:
  radio_flask:
    build:
      context: .
      dockerfile: Dockerfile.flask
    container_name: radio_flask
    image: ghcr.io/pmhalvor/radio_flask:alpha
    restart: always
    ports:
      - "8888:8888"
    volumes:
      - ./.token:/radio/.token
    env_file:
      - .env
    environment:
      DEBUG: "false"
    platform: linux/amd64

  radio_streamlit:
    build:
      context: .
      dockerfile: Dockerfile.streamlit
    container_name: radio_streamlit
    image: ghcr.io/pmhalvor/radio_streamlit:alpha
    restart: always
    ports:
      - "8501:8501"
    volumes:
      - ./.token:/radio/.token
    env_file:
      - .env
    environment:
      DEBUG: "false"
    platform: linux/amd64